<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ‹äººè¨ºæ–­ãƒ„ãƒ¼ãƒ«</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Hiragino Kaku Gothic ProN", sans-serif;
      text-align: center;
      background: #ffeef2;
      padding: 1.5rem;
      overflow-x: hidden;
      word-break: break-word;
      font-size: 16px;
    }

    .question {
      margin: 20px auto;
      text-align: left;
      max-width: 600px;
      width: 100%;
      background: #fff0f5;
      padding: 1rem;
      border-radius: 10px;
      box-sizing: border-box;
      transition: border 0.3s;
    }

    .question p {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    label {
      display: block;
      padding: 8px 0;
      cursor: pointer;
      font-size: 1rem;
    }

    input[type="radio"] {
      transform: scale(1.2);
      margin-right: 8px;
    }

    .result {
      margin-top: 30px;
      font-weight: bold;
      color: #d40067;
      font-size: 1.2rem;
      transition: opacity 0.5s;
      opacity: 0;
    }

    .result.show {
      opacity: 1;
    }

    button {
      padding: 14px 24px;
      background-color: #ff69b4;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1rem;
      margin-top: 20px;
      width: 100%;
      max-width: 400px;
      box-sizing: border-box;
      touch-action: manipulation;
    }

    @media screen and (max-width: 600px) {
      body {
        padding: 1rem;
      }

      button {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <h1>ã‚ãªãŸã®æ‹æ„›ã‚¿ã‚¤ãƒ—è¨ºæ–­ğŸ’˜</h1>

  <div id="quiz-container"></div>

  <button id="submit-btn" onclick="showResult(event)">è¨ºæ–­ã™ã‚‹</button>

  <div class="result" id="result"></div>

  <template id="question-template">
    <div class="question">
      <p class="question-text"></p>
      <label><input type="radio" value="A"> <span class="a-text"></span></label>
      <label><input type="radio" value="B"> <span class="b-text"></span></label>
    </div>
  </template>

  <script>
    const questions = [
      { text: "Q1: åˆå¯¾é¢ã®ç›¸æ‰‹ã¨ã¯ï¼Ÿ", a: "ç©æ¥µçš„ã«è©±ã—ã‹ã‘ã‚‹", b: "å°‘ã—æ§˜å­ã‚’è¦‹ã‚‹" },
      { text: "Q2: ç†æƒ³ã®ãƒ‡ãƒ¼ãƒˆã¯ï¼Ÿ", a: "ãŠã—ã‚ƒã‚Œãªã‚«ãƒ•ã‚§", b: "è‡ªç„¶ã®ä¸­ã§ã®ã‚“ã³ã‚Š" },
      { text: "Q3: æ‹äººã¨ã®é »åº¦ã¯ï¼Ÿ", a: "æ¯æ—¥ã§ã‚‚ä¼šã„ãŸã„", b: "é€±1ãã‚‰ã„ãŒã¡ã‚‡ã†ã©ã„ã„" },
      { text: "Q4: è¨˜å¿µæ—¥ã¯ï¼Ÿ", a: "çµ¶å¯¾ã«ãŠç¥ã„ã—ãŸã„", b: "ãã‚“ãªã«ã“ã ã‚ã‚‰ãªã„" },
      { text: "Q5: å–§å˜©ã—ãŸã‚‰ï¼Ÿ", a: "ã™ãè©±ã—ã¦è§£æ±ºã™ã‚‹", b: "å°‘ã—è·é›¢ã‚’ç½®ã„ã¦å†·é™ã«ãªã‚‹" },
      { text: "Q6: ç›¸æ‰‹ã®è¶£å‘³ã«ã¯ï¼Ÿ", a: "èˆˆå‘³ãŒãªãã¦ã‚‚ä¸€ç·’ã«ã‚„ã£ã¦ã¿ãŸã„", b: "ãŠäº’ã„è‡ªç”±ãŒã„ã„" },
      { text: "Q7: ã‚µãƒ—ãƒ©ã‚¤ã‚ºã¯ï¼Ÿ", a: "å¤§å¥½ãï¼", b: "ã¡ã‚‡ã£ã¨è‹¦æ‰‹â€¦" },
      { text: "Q8: ç†æƒ³ã®é–¢ä¿‚ã¯ï¼Ÿ", a: "ã„ã¤ã‚‚ä¸€ç·’ãŒã„ã„", b: "é©åº¦ãªè·é›¢æ„ŸãŒã»ã—ã„" },
      { text: "Q9: æ‹äººã®éå»ã¯ï¼Ÿ", a: "æ°—ã«ãªã‚‹ï¼èã„ã¡ã‚ƒã†", b: "ã‚ã¾ã‚Šæ°—ã«ã—ãªã„" },
      { text: "Q10: ä»˜ãåˆã£ãŸã‚‰ï¼Ÿ", a: "ç›¸æ‰‹æœ€å„ªå…ˆã®ç”Ÿæ´»ã«ãªã‚‹", b: "è‡ªåˆ†ã®æ™‚é–“ã‚‚å¤§åˆ‡ã«ã™ã‚‹" },
      { text: "Q11: ä¸€ç·’ã«ä½ã‚€ãªã‚‰ï¼Ÿ", a: "ã™ãåŒæ£²ã—ãŸã„", b: "çµå©šã—ã¦ã‹ã‚‰ã§ã„ã„" },
      { text: "Q12: æ‹äººãŒå¿™ã—ã„ã¨ãã¯ï¼Ÿ", a: "å°‘ã—å¯‚ã—ã„", b: "æ°—ã«ã›ãšè‡ªåˆ†ã®æ™‚é–“ã‚’æ¥½ã—ã‚€" },
      { text: "Q13: SNSã®é€£çµ¡é »åº¦ã¯ï¼Ÿ", a: "æ¯æ—¥é€£çµ¡ã—ãŸã„", b: "å¿…è¦ãªæ™‚ã ã‘ã§OK" },
      { text: "Q14: æ‹äººã«æ±‚ã‚ã‚‹ã®ã¯ï¼Ÿ", a: "æ„›æƒ…è¡¨ç¾", b: "å®‰å¿ƒæ„Ÿ" },
      { text: "Q15: è‡ªåˆ†ã®æ‹æ„›è¦³ã¯ï¼Ÿ", a: "ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯ã§ã„ãŸã„", b: "å®‰å®šãŒå¤§äº‹" },
      { text: "Q16: å¥½ãã«ãªã£ãŸã‚‰ï¼Ÿ", a: "ã™ãè¡Œå‹•ã™ã‚‹", b: "ã¾ãšã¯æ§˜å­ã‚’ã¿ã‚‹" },
      { text: "Q17: æ‹äººã¨è¶£å‘³ãŒåˆã‚ãªã„ï¼Ÿ", a: "æ–°ã—ã„æ¥½ã—ã¿ãŒå¢—ãˆã‚‹ã¨æ€ã†", b: "ç„¡ç†ã«åˆã‚ã›ãŸããªã„" },
      { text: "Q18: èª•ç”Ÿæ—¥ã®ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã¯ï¼Ÿ", a: "ç‰¹åˆ¥ãªã‚‚ã®ã‚’ç”¨æ„ã™ã‚‹", b: "æ°—æŒã¡ãŒä¼ã‚ã‚Œã°ååˆ†" },
      { text: "Q19: å°†æ¥ã«ã¤ã„ã¦ï¼Ÿ", a: "è©±ã—åˆã£ã¦æ±ºã‚ãŸã„", b: "æµã‚Œã«ä»»ã›ãŸã„" },
      { text: "Q20: ç†æƒ³ã®å‘Šç™½ã¯ï¼Ÿ", a: "è‡ªåˆ†ã‹ã‚‰ã—ãŸã„", b: "ç›¸æ‰‹ã‹ã‚‰ã•ã‚ŒãŸã„" }
    ];

    const container = document.getElementById("quiz-container");
    const template = document.getElementById("question-template");

    questions.forEach((q, i) => {
      const clone = template.content.cloneNode(true);
      clone.querySelector(".question-text").textContent = q.text;
      clone.querySelector(".a-text").textContent = q.a;
      clone.querySelector(".b-text").textContent = q.b;
      const inputs = clone.querySelectorAll('input');
      inputs.forEach(input => {
        input.name = `q${i}`;
        input.addEventListener('change', () => {
          localStorage.setItem(input.name, input.value);
        });
      });
      container.appendChild(clone);
    });

    window.addEventListener('DOMContentLoaded', () => {
      questions.forEach((_, i) => {
        const saved = localStorage.getItem(`q${i}`);
        if (saved) {
          const input = document.querySelector(`input[name="q${i}"][value="${saved}"]`);
          if (input) input.checked = true;
        }
      });
    });

    function getTypeResult(scoreA, scoreB) {
      const total = scoreA + scoreB;
      const percentA = Math.round((scoreA / total) * 100);
      const percentB = 100 - percentA;

      if (scoreA >= 16) {
        return {
          text: `ã‚ãªãŸã¯ã€è¶…æƒ…ç†±å‹ã€æ‹æ„›ã‚¿ã‚¤ãƒ—ï¼ğŸ”¥<br>æƒ…ç†±çš„ã§ç›¸æ‰‹ã‚’å¼·ãæƒ³ã†ã‚¿ã‚¤ãƒ—ã§ã™ã€‚<br>ã€Aã‚¿ã‚¤ãƒ—ï¼š${percentA}% / Bã‚¿ã‚¤ãƒ—ï¼š${percentB}%ã€‘`,
          match: "ç™’ã—ç³»ãƒ»ãƒã‚¤ãƒšãƒ¼ã‚¹å‹ ğŸ’†â€â™€ï¸"
        };
      } else if (scoreB >= 16) {
        return {
          text: `ã‚ãªãŸã¯ã€è¶…ãƒã‚¤ãƒšãƒ¼ã‚¹å‹ã€æ‹æ„›ã‚¿ã‚¤ãƒ—ğŸƒ<br>è‡ªåˆ†ã‚‰ã—ã•ã‚’å¤§åˆ‡ã«ã™ã‚‹å¤§äººã‚¿ã‚¤ãƒ—ã€‚<br>ã€Aã‚¿ã‚¤ãƒ—ï¼š${percentA}% / Bã‚¿ã‚¤ãƒ—ï¼š${percentB}%ã€‘`,
          match: "æƒ…ç†±å‹ãƒ»å¼•ã£å¼µã£ã¦ãã‚Œã‚‹ã‚¿ã‚¤ãƒ— ğŸ”¥"
        };
      } else {
        return {
          text: `ã‚ãªãŸã¯ã€ãƒãƒ©ãƒ³ã‚¹å‹ã€æ‹æ„›ã‚¿ã‚¤ãƒ—ğŸŒˆ<br>æƒ…ã¨ç†ã®ãƒãƒ©ãƒ³ã‚¹ãŒã¨ã‚ŒãŸç†æƒ³çš„ãªäººã§ã™ã€‚<br>ã€Aã‚¿ã‚¤ãƒ—ï¼š${percentA}% / Bã‚¿ã‚¤ãƒ—ï¼š${percentB}%ã€‘`,
          match: "åŒã˜ããƒãƒ©ãƒ³ã‚¹å‹ or ã©ã¡ã‚‰ã«ã‚‚å¯¾å¿œã§ãã‚‹äºº ğŸ§¡"
        };
      }
    }

    function showResult(event) {
      const button = event.target;
      button.disabled = true;
      setTimeout(() => button.disabled = false, 1000);

      let scoreA = 0;
      let scoreB = 0;
      let allAnswered = true;
      const questionDivs = document.querySelectorAll('.question');

      questions.forEach((_, i) => {
        const answer = document.querySelector(`input[name="q${i}"]:checked`);
        const div = questionDivs[i];
        if (!answer) {
          div.style.border = "2px solid red";
          allAnswered = false;
        } else {
          div.style.border = "none";
          if (answer.value === "A") scoreA++;
          else scoreB++;
        }
      });

      if (!allAnswered) {
        alert("å…¨ã¦ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ï¼");
        return;
      }

      const result = getTypeResult(scoreA, scoreB);
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `
        ${result.text}<br><br>
        ğŸ’ ã‚ãªãŸã¨ç›¸æ€§ãŒè‰¯ã„ã®ã¯ã€Œ<strong>${result.match}</strong>ã€ã§ã™ï¼
      `;
      resultDiv.classList.add("show");
    }
  </script>
</body>
</html>
